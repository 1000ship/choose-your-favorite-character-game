{"version":3,"sources":["Resources/Images/cyfc_top_logo.png","Resources/Images/game_chat_box.png","Utils/ScriptParser.js","Components/ChattingView/OptionMessage.js","Components/ChattingView/ChattingViewPresenter.js","Components/ChattingView/index.js","Components/ChattingView/ChattingViewContainer.js","Utils/constant.js","Components/MeetView/OptionSelector.js","Components/MeetView/ChatBox.js","Components/MeetView/MeetViewPresenter.js","Components/MeetView/index.js","Components/MeetView/MeetViewContainer.js","GlobalStyles.js","Utils/ScriptInterpreter.js","Utils/api.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ScriptParser","getText","script","data","name","result","originals","match","keys","map","str","join","trim","forEach","original","i","replace","getSpecials","tuple","RightMessage","styled","span","OptionList","ul","OptionItem","li","OptionMessage","selectOption","options","answer","reaction","nextId","option","key","onClick","e","dangerouslySetInnerHTML","__html","Container","div","AppBar","LogoImage","img","Contents","DateText","LeftMessage","ChattingViewPresenter","chatList","scene","src","CYFCLogoImage","alt","who","message","length","sceneType","ChattingViewContainer","scriptInterpreter","setSceneType","useState","setChatList","useEffect","doCurrentScene","currentScene","sceneScript","nextSceneId","push","getNextScene","setTimeout","optionIndex","OptionSelector","onOptionClicked","stopPropagation","ChatBoxImage","NameText","TalkText","ChatBox","meetData","ChatBoxBackgroundImage","step","characterName","BackgroundImage","imageSrc","CharacterImage","MeetViewPresenter","stepEvent","folderName","backgroundImage","characterImage","MeetViewContainer","setMeetData","createInitScene","newScene","updateData","Object","assign","specialData","console","log","bg","createGlobalStyle","reset","ScriptInterpreter","this","scenes","setFolderName","setScenes","nextSceneIndex","findIndex","sceneId","alert","loadScript","fileName","a","filePath","fetch","json","App","scriptLoaded","setScriptLoaded","what","window","prompt","then","GlobalStyles","ChattingView","MeetView","Boolean","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.8639d70f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cyfc_top_logo.5562f7f2.png\";","module.exports = __webpack_public_path__ + \"static/media/game_chat_box.008fe626.png\";","import React from 'react';\n\nconst ScriptParser = {\n  getText: ( script, data = {name: \"성혁\"} ) => {\n    let result = script\n    const originals = result.match(/{\\w*}/g) ?? []\n    const keys = originals.map( str => str.match(/\\w*/g).join(\"\").trim() )\n    originals.forEach( (original, i) => result = result.replace(original, data[keys[i]]) )\n    result = result.replace( /{input:\\w*}/g, \"<input type='text'/>\" )\n    result = result.replace( /{\\w*:.+\\.?\\w*}/g, \"\" )\n    return result\n  },\n  getSpecials: (script) => {\n    let result = {}\n    const specials = script.match( /{\\w*:.+\\.?\\w*}/g ) ?? []\n    const tuples = specials.map( str => str.match( /[^{:}]+/g ) )\n    tuples.forEach( tuple => result[tuple[0]] = tuple[1])\n    return result;\n  }\n}\n\nexport default ScriptParser","import React from \"react\";\nimport styled from \"styled-components\";\nimport ScriptParser from \"../../Utils/ScriptParser\";\n\nconst RightMessage = styled.span`\n  align-self: flex-end;\n  margin: 15px;\n  padding: 12px;\n  border: 3px solid #a21ccb;\n  border-radius: 15px 15px 3px 15px;\n  border-image-slice: 1;\n  color: #662d91;\n`;\n\nconst OptionList = styled.ul``;\nconst OptionItem = styled.li`\n  cursor: pointer;\n  &:hover {\n    font-weight: 600;\n  }\n`;\n\nconst OptionMessage = ({\n  selectOption,\n  options = [{ answer: \"ㅎㅇ\", reaction: \"?\", nextId: \"\" }],\n}) => {\n  return (\n    <RightMessage>\n      <OptionList>\n        {options.map((option, i) => (\n          <OptionItem\n            key={i}\n            onClick={(e) => selectOption(i)}\n            dangerouslySetInnerHTML={{\n              __html: ScriptParser.getText(option.answer),\n            }}\n          ></OptionItem>\n        ))}\n      </OptionList>\n    </RightMessage>\n  );\n};\n\nexport default OptionMessage;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport CYFCLogoImage from \"../../Resources/Images/cyfc_top_logo.png\";\nimport OptionMessage from \"./OptionMessage\";\nimport ScriptParser from \"../../Utils/ScriptParser\";\n\nconst AppBarHeight = 64;\n\nconst Container = styled.div``;\n\nconst AppBar = styled.div`\n  position: fixed;\n  left: 0;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: ${AppBarHeight}px;\n  border-bottom: 2px solid #bcbcbc;\n  background-color: white;\n`;\nconst LogoImage = styled.img`\n  height: 70%;\n`;\n\nconst Contents = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: ${AppBarHeight}px;\n`;\nconst DateText = styled.span`\n  color: #939393;\n  margin: 10px;\n`;\nconst LeftMessage = styled.span`\n  align-self: flex-start;\n  margin: 5px;\n  padding: 15px;\n  border-radius: 15px 15px 15px 3px;\n  background-image: linear-gradient(#e86ecb, #a21ccb);\n  color: white;\n`;\nconst RightMessage = styled.span`\n  align-self: flex-end;\n  margin: 5px;\n  padding: 12px;\n  border: 3px solid #a21ccb;\n  border-radius: 15px 15px 3px 15px;\n  border-image-slice: 1;\n  color: #662d91;\n`;\n\nconst ChattingViewPresenter = ({ chatList, scene, selectOption }) => (\n  <Container>\n    <AppBar>\n      <LogoImage src={CYFCLogoImage} alt=\"CYFC\"></LogoImage>\n    </AppBar>\n    <Contents>\n      <DateText>오늘</DateText>\n      {chatList.map(({ who, message }, i) =>\n        who === \"left\" ? (\n          <LeftMessage\n            key={i}\n            dangerouslySetInnerHTML={{ __html: ScriptParser.getText(message) }}\n          ></LeftMessage>\n        ) : (\n          <RightMessage\n            key={i}\n            dangerouslySetInnerHTML={{ __html: ScriptParser.getText(message) }}\n          ></RightMessage>\n        )\n      )}\n      {scene.options?.length > 0 && scene.sceneType !== \"ending\" && (\n        <OptionMessage\n          options={scene.options}\n          selectOption={selectOption}\n        ></OptionMessage>\n      )}\n    </Contents>\n  </Container>\n);\n\nexport default ChattingViewPresenter;\n","import ChattingViewContainer from './ChattingViewContainer'\n\nexport default ChattingViewContainer;","import React, { useState, useEffect } from \"react\";\nimport ChattingViewPresenter from \"./ChattingViewPresenter\";\nimport { SCENE_TYPE_MEET, SCENE_TYPE_CHANGE_DURATION } from \"../../Utils/constant\";\n\nconst ChattingViewContainer = ({ scriptInterpreter, setSceneType }) => {\n  const [chatList, setChatList] = useState([\n    { who: \"left\", message: \"당신의 이름은?\" },\n    { who: \"right\", message: \"나의 이름은 ...\" },\n  ]);\n\n  useEffect(() => doCurrentScene(), []);\n\n  const doCurrentScene = () => {\n    const { sceneType, sceneScript, options, nextSceneId } = scriptInterpreter.currentScene;\n    if(sceneType === SCENE_TYPE_MEET){\n      setTimeout(() => setSceneType(SCENE_TYPE_MEET), SCENE_TYPE_CHANGE_DURATION);\n      return\n    }\n    setChatList((chatList) => {\n      const result = [...chatList]\n      if(sceneScript?.length > 0) result.push({ who: \"left\", message: sceneScript })\n      return result\n    })\n    if( options?.length === 0 ){\n      scriptInterpreter.getNextScene( nextSceneId )\n      doCurrentScene()\n    }\n  };\n\n  const selectOption = (optionIndex) => {\n    const {answer, reaction, nextId} = scriptInterpreter.currentScene.options[optionIndex]\n    setChatList((chatList) => {\n      const result = [...chatList]\n      if(answer?.length > 0) result.push({ who: \"right\", message: answer })\n      if(reaction?.length > 0) result.push({ who: \"left\", message: reaction })\n      return result\n    })\n    scriptInterpreter.getNextScene( nextId )\n    doCurrentScene()\n  }\n\n  return (\n    <ChattingViewPresenter\n      chatList={chatList}\n      scene={scriptInterpreter.currentScene}\n      selectOption={selectOption}\n    ></ChattingViewPresenter>\n  );\n};\n\nexport default ChattingViewContainer;\n","export const DEFAULT_SCENE = {\n  sceneId: \"\",\n  characterName: \"\",\n  sceneScript: \"\",\n  characterImage: \"\",\n  backgroundImage: \"\",\n  sceneSound: \"\",\n  nextSceneId: \"\",\n  options: [\n    {\n      answer: \"\",\n      reaction: \"\",\n      nextId: \"\",\n    },\n  ],\n  sceneType: \"meet\",\n};\n\nexport const SCENE_TYPE_TEXT = \"text\"\nexport const SCENE_TYPE_MEET = \"meet\"\nexport const SCENE_TYPE_ENDING = \"ending\"\n\nexport const MEET_STEP_SCRIPT = \"script\";\nexport const MEET_STEP_OPTION = \"option\";\nexport const MEET_STEP_REACTION = \"reaction\";\n\nexport const SCENE_TYPE_CHANGE_DURATION = 2000;","import React from \"react\";\nimport styled from \"styled-components\";\nimport { CHAT_STEP_REACTION } from \"./ChatBox\";\nimport ScriptParser from \"../../Utils/ScriptParser\";\n\nconst Container = styled.div``;\nconst OptionList = styled.ul``;\nconst OptionItem = styled.li`\n  font-size: 2.2vw;\n  cursor: pointer;\n  font-weight: 400;\n  margin-bottom: 0.5vw;\n  &:hover {\n    font-weight: 600;\n  }\n`;\n\nconst OptionSelector = ({ options, selectOption }) => {\n  const onOptionClicked = (i) => (e) => {\n    selectOption(i);\n    e.stopPropagation();\n  };\n  return (\n    <Container>\n      <OptionList>\n        {options.map(({ answer }, i) => (\n          <OptionItem\n            key={i}\n            onClick={onOptionClicked(i)}\n            dangerouslySetInnerHTML={{ __html: ScriptParser.getText(answer) }}\n          ></OptionItem>\n        ))}\n      </OptionList>\n    </Container>\n  );\n};\n\nexport default OptionSelector;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport OptionSelector from \"./OptionSelector\";\nimport ChatBoxBackgroundImage from \"../../Resources/Images/game_chat_box.png\";\nimport { MEET_STEP_OPTION, MEET_STEP_REACTION } from \"../../Utils/constant\";\nimport ScriptParser from \"../../Utils/ScriptParser\";\n\nconst Container = styled.div`\n  position: absolute;\n  left: 10%;\n  bottom: 30px;\n  width: 80%;\n`;\nconst ChatBoxImage = styled.img`\n  width: 100%;\n`;\nconst Contents = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 3% 10%;\n`;\nconst NameText = styled.span`\n  font-weight: bolder;\n  font-size: 3vw;\n  margin-bottom: 10px;\n  color: #662d91;\n`;\nconst TalkText = styled.span`\n  font-size: 2vw;\n  margin-left: 10px;\n  color: black;\n`;\n\nconst ChatBox = ({ meetData, selectOption }) => {\n  return (\n    <Container>\n      <ChatBoxImage src={ChatBoxBackgroundImage}></ChatBoxImage>\n      <Contents>\n        {meetData.step !== MEET_STEP_OPTION ? (\n          <>\n            <NameText\n              dangerouslySetInnerHTML={{\n                __html: ScriptParser.getText(meetData.characterName),\n              }}\n            ></NameText>\n            <TalkText\n              dangerouslySetInnerHTML={{\n                __html: ScriptParser.getText(\n                  meetData.step === MEET_STEP_REACTION\n                    ? meetData.options[meetData.optionIndex].reaction\n                    : meetData.sceneScript\n                ),\n              }}\n            ></TalkText>\n          </>\n        ) : (\n          <OptionSelector\n            options={meetData.options}\n            selectOption={selectOption}\n          ></OptionSelector>\n        )}\n      </Contents>\n    </Container>\n  );\n};\n\nexport default ChatBox;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport ChatBox from \"./ChatBox\";\n\nconst Container = styled.div``;\n\nconst BackgroundImage = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-image: url('${({ imageSrc }) => imageSrc}');\n  background-position: center;\n  background-size: cover;\n`;\n\nconst CharacterImage = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  background-image: url('${({ imageSrc }) => imageSrc}');\n  background-position: bottom;\n  background-size: contain;\n  background-repeat: no-repeat;\n  transform-origin: bottom center;\n  transform: scale(0.9);\n`;\n\nconst MeetViewPresenter = ({ meetData, stepEvent, selectOption }) => {\n  const { folderName, backgroundImage, characterImage } = meetData;\n  return (\n    <Container onClick={stepEvent}>\n      {backgroundImage?.length > 0 && (\n        <BackgroundImage\n          imageSrc={`./res/img/background/${folderName}/${backgroundImage}`}\n        >{backgroundImage}</BackgroundImage>\n      )}\n      {characterImage?.length > 0 && (\n        <CharacterImage\n          imageSrc={`./res/img/character/${folderName}/${characterImage}`}\n        >{characterImage}</CharacterImage>\n      )}\n      <ChatBox meetData={meetData} selectOption={selectOption}></ChatBox>\n    </Container>\n  );\n};\n\nexport default MeetViewPresenter;\n","import MeetViewContainer from \"./MeetViewContainer\";\n\nexport default MeetViewContainer;\n","import React, { useState, useEffect } from \"react\";\nimport MeetViewPresenter from \"./MeetViewPresenter\";\nimport {\n  SCENE_TYPE_TEXT,\n  SCENE_TYPE_ENDING,\n  MEET_STEP_OPTION,\n  MEET_STEP_REACTION,\n  MEET_STEP_SCRIPT,\n  SCENE_TYPE_CHANGE_DURATION,\n} from \"../../Utils/constant\";\nimport ScriptParser from \"../../Utils/ScriptParser\";\n\nconst MeetViewContainer = ({ scriptInterpreter, setSceneType }) => {\n\n  const [meetData, setMeetData] = useState({\n    step: MEET_STEP_SCRIPT,\n    characterName: \"\",\n    sceneScript: \"\",\n    options: [],\n    optionIndex: 0,\n    folderName: scriptInterpreter.folderName\n  });\n\n  useEffect(() => doCurrentScene(), []);\n\n  const createInitScene = (newScene, data = {}) => {\n    const {\n      characterName,\n      sceneScript,\n      backgroundImage,\n      characterImage,\n      sceneType,\n      options,\n      nextSceneId,\n    } = newScene;\n    let updateData = {\n      step: MEET_STEP_SCRIPT,\n      characterName,\n      sceneScript,\n      options,\n      nextSceneId,\n    };\n    if (backgroundImage?.length > 0)\n      updateData.backgroundImage = backgroundImage.trim();\n    if (characterImage?.length > 0)\n      updateData.characterImage = characterImage.trim();\n    if (sceneType === SCENE_TYPE_ENDING) updateData.characterImage = \"\";\n    if (sceneScript?.length === 0) updateData.step = MEET_STEP_OPTION;\n    return Object.assign(Object.assign({}, data), updateData);\n  };\n\n  const doCurrentScene = () => {\n    const { sceneType } = scriptInterpreter.currentScene;\n    if (sceneType === SCENE_TYPE_TEXT) {\n      setTimeout(\n        () => setSceneType(SCENE_TYPE_TEXT),\n        SCENE_TYPE_CHANGE_DURATION\n      );\n      return;\n    }\n    setMeetData((data) => createInitScene(scriptInterpreter.currentScene, data));\n  };\n\n  const stepFromScript = () => {\n    setMeetData((data) => {\n      if (data.options?.length === 0) {\n        scriptInterpreter.getNextScene(data.nextSceneId);\n        return createInitScene(scriptInterpreter.currentScene, data);\n      } else {\n        return { ...data, step: MEET_STEP_OPTION };\n      }\n    });\n  };\n\n  const stepFromReaction = () => {\n    setMeetData((data) => {\n      const { optionIndex } = data;\n      const nextId =\n        data.options?.length > 0\n          ? data.options[optionIndex].nextId\n          : data.nextSceneId;\n      scriptInterpreter.getNextScene(nextId);\n      return createInitScene(scriptInterpreter.currentScene, data);\n    });\n  };\n\n  const selectOption = (optionIndex) => {\n    setMeetData((data) => {\n      let result = {\n        ...data,\n        step: MEET_STEP_REACTION,\n        optionIndex,\n      };\n      if (data.options[optionIndex].reaction?.length === 0) {\n        const nextId =\n          data.options?.length > 0\n            ? data.options[optionIndex].nextId\n            : data.nextSceneId;\n        scriptInterpreter.getNextScene(nextId);\n        return createInitScene(scriptInterpreter.currentScene, data);\n      }\n      const script = data.options[optionIndex].reaction;\n      const specialData = ScriptParser.getSpecials(script)\n      if( specialData ) console.log( specialData )\n      if( specialData?.img ) result.characterImage = specialData.img\n      if( specialData?.bg ) result.backgroundImage = specialData.bg\n      return result;\n    });\n  };\n\n  return (\n    <MeetViewPresenter\n      meetData={meetData}\n      stepEvent={\n        meetData.step === MEET_STEP_SCRIPT\n          ? stepFromScript\n          : meetData.step === MEET_STEP_REACTION\n          ? stepFromReaction\n          : null\n      }\n      selectOption={selectOption}\n    ></MeetViewPresenter>\n  );\n};\n\nexport default MeetViewContainer;\n","import { createGlobalStyle } from \"styled-components\";\nimport reset from \"styled-reset\";\n\nexport default createGlobalStyle`\n  ${reset}\n  @font-face {\n    font-family: \"GmarketSans\";\n    src: url(./res/fonts/GmarketSansTTFMedium.ttf);\n    font-weight: 400;\n  }\n  @font-face {\n    font-family: \"GmarketSans\";\n    src: url(./res/fonts/GmarketSansTTFBold.ttf);\n    font-weight: 600;\n  }\n  a {\n      text-decoration: none;\n      color: inherit;\n  }\n  body {\n    font-family: \"GmarketSans\", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n`;\n","export const SCRIPT_AMY_MALE = \"amy_male.txt\";\nexport const SCRIPT_AMY_FEMALE = \"amy_female.txt\";\nexport const SCRIPT_BELLA = \"bella.txt\";\nexport const SCRIPT_CLAIR = \"clair.txt\";\n\nconst ScriptInterpreter = function (folderName = \"\") {\n  this.folderName = folderName;\n  this.scenes = [];\n  this.currentScene = null;\n\n  this.setFolderName = (folderName) => {\n    this.folderName = folderName;\n  };\n\n  this.setScenes = (scenes) => {\n    this.scenes = scenes;\n    this.currentScene = this.scenes[0];\n  };\n\n  this.getNextScene = (nextSceneId) => {\n    const nextSceneIndex = this.scenes.findIndex(\n      (scene) => scene.sceneId === nextSceneId\n    );\n    if (nextSceneIndex === -1) {\n      alert(`${nextSceneId}이 존재하지 않음`);\n      return;\n    }\n    this.currentScene = this.scenes[nextSceneIndex];\n    console.log(this.currentScene);\n    return this.currentScene;\n  };\n};\n\nexport default ScriptInterpreter;\n","export const loadScript = async (fileName) => {\n  const filePath = `./res/scenes/${fileName}`;\n  const data = await fetch(filePath);\n  const scenes = await data.json();\n  return scenes;\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport ChattingView from \"./Components/ChattingView\";\nimport MeetView from \"./Components/MeetView\";\nimport GlobalStyles from \"./GlobalStyles\";\nimport ScriptInterpreter from \"./Utils/ScriptInterpreter\";\nimport BGMPlayer from \"./Utils/BGMPlayer\";\nimport { loadScript } from \"./Utils/api\";\nimport { SCENE_TYPE_TEXT } from \"./Utils/constant\";\nimport ScriptParser from \"./Utils/ScriptParser\";\n\n// BGMPlayer.play('amy.mp3')\n\nconsole.log(\"PARSE:\", ScriptParser.getText( \"{name} Hello {world} {img:07 뿌듯.png}\" ) )\n\nconst scriptInterpreter = new ScriptInterpreter();\n\nfunction App() {\n  const [sceneType, setSceneType] = useState(SCENE_TYPE_TEXT);\n  const [scriptLoaded, setScriptLoaded] = useState(false);\n  useEffect(() => {\n    let what = \"\"\n    what = window.prompt(\"amy_male.txt/amy_female.txt/bella.txt/clair.txt\");\n    if (what?.length === 0) what = \"amy_male.txt\";\n    let folderName;\n    switch (what) {\n      case \"amy_male.txt\":\n      case \"amy_female.txt\":\n        folderName = \"Amy\";\n        break;\n      case \"bella.txt\":\n        folderName = \"Bella\";\n        break;\n      case \"clair.txt\":\n        folderName = \"Clair\";\n        break;\n    }\n    loadScript(what).then((data) => {\n      scriptInterpreter.setScenes(data);\n      scriptInterpreter.setFolderName(folderName);\n      setScriptLoaded(true);\n      setSceneType(scriptInterpreter.currentScene.sceneType);\n    });\n  }, []);\n\n  return (\n    <>\n      <GlobalStyles />\n      {scriptLoaded &&\n        (scriptInterpreter.currentScene.sceneType === SCENE_TYPE_TEXT ? (\n          <ChattingView\n            scriptInterpreter={scriptInterpreter}\n            setSceneType={setSceneType}\n          ></ChattingView>\n        ) : (\n          <MeetView\n            scriptInterpreter={scriptInterpreter}\n            setSceneType={setSceneType}\n          ></MeetView>\n        ))}\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}