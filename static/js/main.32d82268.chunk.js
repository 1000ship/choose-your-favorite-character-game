(this.webpackJsonpcyfc=this.webpackJsonpcyfc||[]).push([[0],{14:function(n,e,t){n.exports=t.p+"static/media/cyfc_top_logo.5562f7f2.png"},18:function(n,e,t){n.exports=t.p+"static/media/game_chat_box.008fe626.png"},21:function(n,e,t){n.exports=t(31)},26:function(n,e,t){},27:function(n,e,t){},31:function(n,e,t){"use strict";t.r(e);var r=t(0),c=t.n(r),o=t(13),a=t.n(o),i=(t(26),t(3)),u=(t(27),t(10)),s=t(2),l=t(1),f=t(14),p=t.n(f);function d(){var n=Object(s.a)(["\n  cursor: pointer;\n  &:hover {\n    font-weight: 600;\n  }\n"]);return d=function(){return n},n}function m(){var n=Object(s.a)([""]);return m=function(){return n},n}function v(){var n=Object(s.a)(["\n  align-self: flex-end;\n  margin: 15px;\n  padding: 12px;\n  border: 3px solid #a21ccb;\n  border-radius: 15px 15px 3px 15px;\n  border-image-slice: 1;\n  color: #662d91;\n"]);return v=function(){return n},n}var g=l.c.span(v()),b=l.c.ul(m()),h=l.c.li(d()),x=function(n){var e=n.selectOption,t=n.options,r=void 0===t?[{answer:"\u314e\u3147",reaction:"?",nextId:""}]:t;return c.a.createElement(g,null,c.a.createElement(b,null,r.map((function(n,t){return c.a.createElement(h,{key:t,onClick:function(n){return e(t)}},n.answer)}))))};function O(){var n=Object(s.a)(["\n  align-self: flex-end;\n  margin: 5px;\n  padding: 12px;\n  border: 3px solid #a21ccb;\n  border-radius: 15px 15px 3px 15px;\n  border-image-slice: 1;\n  color: #662d91;\n"]);return O=function(){return n},n}function S(){var n=Object(s.a)(["\n  align-self: flex-start;\n  margin: 5px;\n  padding: 15px;\n  border-radius: 15px 15px 15px 3px;\n  background-image: linear-gradient(#e86ecb, #a21ccb);\n  color: white;\n"]);return S=function(){return n},n}function j(){var n=Object(s.a)(["\n  color: #939393;\n  margin: 10px;\n"]);return j=function(){return n},n}function w(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: ","px;\n"]);return w=function(){return n},n}function E(){var n=Object(s.a)(["\n  height: 70%;\n"]);return E=function(){return n},n}function y(){var n=Object(s.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: ","px;\n  border-bottom: 2px solid #bcbcbc;\n  background-color: white;\n"]);return y=function(){return n},n}function k(){var n=Object(s.a)([""]);return k=function(){return n},n}var I=l.c.div(k()),T=l.c.div(y(),64),N=l.c.img(E()),_=l.c.div(w(),64),C=l.c.span(j()),F=l.c.span(S()),z=l.c.span(O()),G=function(n){var e,t=n.chatList,r=n.scene,o=n.selectOption;return c.a.createElement(I,null,c.a.createElement(T,null,c.a.createElement(N,{src:p.a,alt:"CYFC"})),c.a.createElement(_,null,c.a.createElement(C,null,"\uc624\ub298"),t.map((function(n,e){var t=n.who,r=n.message;return"left"===t?c.a.createElement(F,{key:e},r):c.a.createElement(z,{key:e},r)})),(null===(e=r.options)||void 0===e?void 0:e.length)>0&&"ending"!==r.sceneType&&c.a.createElement(x,{options:r.options,selectOption:o})))},B=function(n){var e=n.scriptInterpreter,t=n.setSceneType,o=Object(r.useState)([{who:"left",message:"\ub2f9\uc2e0\uc758 \uc774\ub984\uc740?"},{who:"right",message:"\ub098\uc758 \uc774\ub984\uc740 ..."}]),a=Object(i.a)(o,2),s=a[0],l=a[1];Object(r.useEffect)((function(){return f()}),[]);var f=function n(){var r=e.currentScene,c=r.sceneType,o=r.sceneScript,a=r.options,i=r.nextSceneId;"meet"!==c?(l((function(n){var e=Object(u.a)(n);return(null===o||void 0===o?void 0:o.length)>0&&e.push({who:"left",message:o}),e})),0===(null===a||void 0===a?void 0:a.length)&&(e.getNextScene(i),n())):setTimeout((function(){return t("meet")}),2e3)};return c.a.createElement(G,{chatList:s,scene:e.currentScene,selectOption:function(n){var t=e.currentScene.options[n],r=t.answer,c=t.reaction,o=t.nextId;l((function(n){var e=Object(u.a)(n);return(null===r||void 0===r?void 0:r.length)>0&&e.push({who:"right",message:r}),(null===c||void 0===c?void 0:c.length)>0&&e.push({who:"left",message:c}),e})),e.getNextScene(o),f()}})},D=t(5);function M(){var n=Object(s.a)(["\n  font-size: 2.2vw;\n  cursor: pointer;\n  font-weight: 400;\n  margin-bottom: 0.5vw;\n  &:hover {\n    font-weight: 600;\n  }\n"]);return M=function(){return n},n}function J(){var n=Object(s.a)([""]);return J=function(){return n},n}function L(){var n=Object(s.a)([""]);return L=function(){return n},n}var U=l.c.div(L()),W=l.c.ul(J()),H=l.c.li(M()),P=function(n){var e=n.options,t=n.selectOption,r=function(n){return function(e){t(n),e.stopPropagation()}};return c.a.createElement(U,null,c.a.createElement(W,null,e.map((function(n,e){var t=n.answer;return c.a.createElement(H,{key:e,onClick:r(e)},t)}))))},R=t(18),Y=t.n(R);function $(){var n=Object(s.a)(["\n  font-size: 2vw;\n  margin-left: 10px;\n  color: black;\n"]);return $=function(){return n},n}function q(){var n=Object(s.a)(["\n  font-weight: bolder;\n  font-size: 3vw;\n  margin-bottom: 10px;\n  color: #662d91;\n"]);return q=function(){return n},n}function A(){var n=Object(s.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 3% 10%;\n"]);return A=function(){return n},n}function K(){var n=Object(s.a)(["\n  width: 100%;\n"]);return K=function(){return n},n}function Q(){var n=Object(s.a)(["\n  position: absolute;\n  left: 10%;\n  bottom: 30px;\n  width: 80%;\n"]);return Q=function(){return n},n}var V=l.c.div(Q()),X=l.c.img(K()),Z=l.c.div(A()),nn=l.c.span(q()),en=l.c.span($()),tn=function(n){var e=n.meetData,t=n.selectOption;return c.a.createElement(V,null,c.a.createElement(X,{src:Y.a}),c.a.createElement(Z,null,"option"!==e.step?c.a.createElement(c.a.Fragment,null,c.a.createElement(nn,null,e.characterName),c.a.createElement(en,null,"reaction"===e.step?e.options[e.optionIndex].reaction:e.sceneScript)):c.a.createElement(P,{options:e.options,selectOption:t})))};function rn(){var n=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  background-image: url('","');\n  background-position: bottom;\n  background-size: cover;\n  background-repeat: no-repeat;\n  transform-origin: bottom center;\n  transform: scale(0.9);\n"]);return rn=function(){return n},n}function cn(){var n=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-image: url('","');\n  background-position: center;\n  background-size: cover;\n"]);return cn=function(){return n},n}function on(){var n=Object(s.a)([""]);return on=function(){return n},n}var an=l.c.div(on()),un=l.c.div(cn(),(function(n){return n.imageSrc})),sn=l.c.div(rn(),(function(n){return n.imageSrc})),ln=function(n){var e=n.meetData,t=n.stepEvent,r=n.selectOption,o=e.characterName,a=e.backgroundImage,i=e.characterImage;return c.a.createElement(an,{onClick:t},(null===a||void 0===a?void 0:a.length)>0&&c.a.createElement(un,{imageSrc:"./res/img/background/".concat(o,"/").concat(a)},a),(null===i||void 0===i?void 0:i.length)>0&&c.a.createElement(sn,{imageSrc:"./res/img/character/".concat(o,"/").concat(i)},i),c.a.createElement(tn,{meetData:e,selectOption:r}))},fn=function(n){var e=n.scriptInterpreter,t=n.setSceneType,o=Object(r.useState)({step:"script",characterName:"",sceneScript:"",options:[],optionIndex:0}),a=Object(i.a)(o,2),u=a[0],s=a[1];Object(r.useEffect)((function(){return f()}),[]);var l=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.characterName,r=n.sceneScript,c=n.backgroundImage,o=n.characterImage,a=n.sceneType,i=n.options,u=n.nextSceneId,s={step:"script",characterName:t,sceneScript:r,options:i,nextSceneId:u};return(null===c||void 0===c?void 0:c.length)>0&&(s.backgroundImage=c.trim()),(null===o||void 0===o?void 0:o.length)>0&&(s.characterImage=o.trim()),"ending"===a&&(s.characterImage=""),0===(null===r||void 0===r?void 0:r.length)&&(s.step="option"),Object.assign(Object.assign({},e),s)},f=function(){"text"!==e.currentScene.sceneType?s((function(n){return l(e.currentScene)})):setTimeout((function(){return t("text")}),2e3)};return c.a.createElement(ln,{meetData:u,stepEvent:"script"===u.step?function(){s((function(n){var t;return 0===(null===(t=n.options)||void 0===t?void 0:t.length)?(e.getNextScene(n.nextSceneId),l(e.currentScene,n)):Object(D.a)(Object(D.a)({},n),{},{step:"option"})}))}:"reaction"===u.step?function(){s((function(n){var t,r=n.optionIndex,c=(null===(t=n.options)||void 0===t?void 0:t.length)>0?n.options[r].nextId:n.nextSceneId;return e.getNextScene(c),l(e.currentScene,n)}))}:null,selectOption:function(n){s((function(t){var r,c=Object(D.a)(Object(D.a)({},t),{},{step:"reaction",optionIndex:n});if(0===(null===(r=t.options[n].reaction)||void 0===r?void 0:r.length)){var o,a=(null===(o=t.options)||void 0===o?void 0:o.length)>0?t.options[n].nextId:t.nextSceneId;return e.getNextScene(a),l(e.currentScene,t)}return c}))}})},pn=t(19);function dn(){var n=Object(s.a)(["\n  ","\n  @font-face {\n    font-family: \"GmarketSans\";\n    src: url(./res/fonts/GmarketSansTTFMedium.ttf);\n    font-weight: 400;\n  }\n  @font-face {\n    font-family: \"GmarketSans\";\n    src: url(./res/fonts/GmarketSansTTFBold.ttf);\n    font-weight: 600;\n  }\n  a {\n      text-decoration: none;\n      color: inherit;\n  }\n  body {\n    font-family: \"GmarketSans\", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n"]);return dn=function(){return n},n}var mn=Object(l.a)(dn(),pn.a),vn=function(){var n=this;this.scenes=[],this.currentScene=null,this.setScenes=function(e){n.scenes=e,n.currentScene=n.scenes[0]},this.getNextScene=function(e){var t=n.scenes.findIndex((function(n){return n.sceneId===e}));if(-1!==t)return n.currentScene=n.scenes[t],console.log(n.currentScene),n.currentScene;alert("".concat(e,"\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc74c"))}},gn=t(9),bn=t.n(gn),hn=t(20),xn=function(){var n=Object(hn.a)(bn.a.mark((function n(e){var t,r,c;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="./res/scenes/".concat(e),n.next=3,fetch(t);case 3:return r=n.sent,n.next=6,r.json();case 6:return c=n.sent,n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),On=new vn;var Sn=function(){var n=Object(r.useState)("text"),e=Object(i.a)(n,2),t=(e[0],e[1]),o=Object(r.useState)(!1),a=Object(i.a)(o,2),u=a[0],s=a[1];return Object(r.useEffect)((function(){var n,e=window.prompt("amy_male.txt/amy_female.txt/bella.txt/clair.txt");0===(null===(n=e)||void 0===n?void 0:n.length)&&(e="amy_male.txt"),xn(e).then((function(n){On.setScenes(n),s(!0),t(On.currentScene.sceneType)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(mn,null),u&&("text"===On.currentScene.sceneType?c.a.createElement(B,{scriptInterpreter:On,setSceneType:t}):c.a.createElement(fn,{scriptInterpreter:On,setSceneType:t})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Sn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.32d82268.chunk.js.map